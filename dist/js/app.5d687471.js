(function(e){function t(t){for(var r,a,s=t[0],c=t[1],o=t[2],b=0,d=[];b<s.length;b++)a=s[b],Object.prototype.hasOwnProperty.call(l,a)&&l[a]&&d.push(l[a][0]),l[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,o||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],r=!0,s=1;s<i.length;s++){var c=i[s];0!==l[c]&&(r=!1)}r&&(n.splice(t--,1),e=a(a.s=i[0]))}return e}var r={},l={app:0},n=[];function a(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=r,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(i,r,function(t){return e[t]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var o=0;o<s.length;o++)t(s[o]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("7a23"),l={class:"h-full px-4 py-12 mx-auto bg-gray-50"};function n(e,t,i,n,a,s){var c=Object(r["B"])("order");return Object(r["v"])(),Object(r["g"])("div",l,[Object(r["i"])(c)])}var a={class:"container mx-auto"},s={class:"bg-white flex flex-wrap mx-auto p-6 md:p-12 border-1 rounded-lg shadow-md w-full lg:w-4/5"},c={class:"w-full bg-gray-300 rounded-md mb-8"},o={class:"w-full md:w-1/2"},u={class:"w-full md:w-1/2 px-4 lg:px-8"},b={class:"flex justify-between pt-8 w-full"},d=["disabled"],h=["disabled"];function g(e,t,i,l,n,g){var f=this,p=Object(r["B"])("preview");return Object(r["v"])(),Object(r["g"])("div",a,[Object(r["h"])("div",s,[Object(r["h"])("div",c,[Object(r["h"])("div",{class:"bg-blue-400 h-1 rounded-md",style:Object(r["r"])({width:"calc("+n.step+" * 100% / 5 )"})},null,4)]),Object(r["h"])("div",o,[Object(r["i"])(p,{src:""!=n.src?n.src+n.filters:n.src=n.src="",alt:n.side,onPrevimg:t[0]||(t[0]=function(e){return g.prevImg()}),loading:n.loading},null,8,["src","alt","loading"])]),Object(r["h"])("div",u,[Object(r["h"])("form",null,[(Object(r["v"])(),Object(r["e"])(r["b"],null,[(Object(r["v"])(),Object(r["e"])(Object(r["C"])(n.view),{step:n.step,preview:n.src+n.filters,loading:n.loading,schema:n.formSchema,order:n.order},null,8,["step","preview","loading","schema","order"]))],1024))])]),Object(r["h"])("div",b,[Object(r["h"])("button",{class:"bg-blue-500 p-2 rounded text-white w-20 hover:bg-blue-600 disabled:bg-blue-100",onClick:t[1]||(t[1]=Object(r["M"])((function(e){g.changeStep(-1),f.disableNext=!1}),["prevent"])),disabled:0===this.step},"Wstecz",8,d),Object(r["h"])("h3",null,"Cena: "+Object(r["D"])(n.price=n.sidesPrice+n.grayscalePrice+n.blurPrice+n.deliveryPrice),1),Object(r["h"])("button",{class:"bg-blue-500 p-2 rounded text-white w-20 hover:bg-blue-600 disabled:bg-blue-100",onClick:t[2]||(t[2]=Object(r["M"])((function(e){return g.changeStep(1)}),["prevent"])),disabled:5===this.step},"Dalej",8,h)])])])}i("ac1f"),i("5319"),i("d3b7"),i("25f0");var f={class:"transform -translate-y-8 relative w-2/6"},p=["src","alt"],m={key:0,class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},v=Object(r["h"])("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[Object(r["h"])("circle",{class:"opacity-50",cx:"12",cy:"12",r:"10",fill:"#fff",stroke:"#999","stroke-width":"4"}),Object(r["h"])("path",{class:"opacity-75",fill:"#3b82f6",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),j=[v];function O(e,t,i,l,n,a){return Object(r["v"])(),Object(r["g"])("div",{class:Object(r["q"])(["bg-no-repeat bg-contain bg-center max-w-full w-96 h-96 mx-auto flex justify-center items-center md:mt-12",a.checkSide])},[Object(r["h"])("div",f,[Object(r["h"])("img",{class:Object(r["q"])(["rounded w-full",!0===i.loading?["bg-gray-400","opacity-50"]:""]),src:i.src,alt:i.alt},null,10,p),!0===i.loading?(Object(r["v"])(),Object(r["g"])("div",m,j)):Object(r["f"])("",!0)])],2)}var y={name:"Preview",props:{src:String,alt:String,loading:Boolean},computed:{checkSide:function(){return"Przód"===this.alt?"bg-front":"bg-back"}}},w=i("6b0d"),x=i.n(w);const k=x()(y,[["render",O]]);var B=k,z={class:"text-center"},P=Object(r["h"])("h1",{class:"text-2xl font-bold mb-8"},"Wybierz miejsce nadruku",-1),I=Object(r["h"])("option",null,"przód",-1),S=Object(r["h"])("option",null,"tył",-1),F=Object(r["h"])("option",null,"obustronnie",-1),V=[I,S,F];function C(e,t,i,l,n,a){return Object(r["v"])(),Object(r["g"])("div",z,[P,Object(r["h"])("select",{name:"side",onChange:t[0]||(t[0]=function(){return a.sideChange&&a.sideChange.apply(a,arguments)}),class:"px-3 py-1.5 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"},V,32)])}var M={name:"SidePicker",methods:{sideChange:function(e){this.eventBus.emit("side",e.target.value)}}};const D=x()(M,[["render",C]]);var q=D,_={class:"flex flex-col items-center"},A=Object(r["h"])("h1",{class:"text-2xl font-bold mb-8"},"Wybierz zdjęcie",-1),N={class:"relative"},E=["src"],T={key:0,class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},G=Object(r["h"])("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[Object(r["h"])("circle",{class:"opacity-50",cx:"12",cy:"12",r:"10",fill:"#fff",stroke:"#999","stroke-width":"4"}),Object(r["h"])("path",{class:"opacity-75",fill:"#3b82f6",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),K=[G],W={class:"mb-8 flex flex-col items-center xl:block"},U=Object(r["h"])("h2",{class:"text-center text-xl mb-2"},"Dodaj efekt:",-1),H=Object(r["h"])("label",{for:"grayscale",class:"ml-2"},"Skala szarości",-1),J=Object(r["h"])("br",null,null,-1),L=Object(r["h"])("label",{for:"blur",class:"ml-2"},"Rozmycie",-1),R=Object(r["h"])("br",null,null,-1),Y=Object(r["h"])("br",null,null,-1),Z={key:1,for:"blurVal"};function $(e,t,i,l,n,a){return Object(r["v"])(),Object(r["g"])("div",_,[A,Object(r["h"])("div",N,[Object(r["h"])("img",{class:Object(r["q"])(["mb-4 rounded w-96",!0===i.loading?["bg-gray-400","opacity-50"]:""]),src:i.preview},null,10,E),!0===i.loading?(Object(r["v"])(),Object(r["g"])("div",T,K)):Object(r["f"])("",!0)]),Object(r["h"])("div",W,[Object(r["h"])("button",{class:"bg-blue-500 m-1 p-2 rounded text-white w-24 hover:bg-blue-600",onClick:t[0]||(t[0]=Object(r["M"])((function(e){return a.prevImg()}),["prevent"]))},"Poprzedni"),Object(r["h"])("button",{class:"bg-blue-500 m-1 p-2 rounded text-white w-30 hover:bg-blue-600",onClick:t[1]||(t[1]=Object(r["M"])((function(e){return a.drawNextImg()}),["prevent"]))},"Losuj kolejny"),Object(r["h"])("button",{class:"bg-blue-500 m-1 p-2 rounded text-white w-24 hover:bg-blue-600",onClick:t[2]||(t[2]=Object(r["M"])((function(e){return a.nextImg()}),["prevent"]))},"Kolejny")]),Object(r["h"])("div",null,[U,Object(r["h"])("input",{type:"checkbox",id:"grayscale",onChange:t[3]||(t[3]=function(e){return a.toggleGrayscale()})},null,32),H,J,Object(r["h"])("input",{type:"checkbox",id:"blur",onChange:t[4]||(t[4]=function(e){return a.toggleBlur()})},null,32),L,R,!0===n.blur?Object(r["L"])((Object(r["v"])(),Object(r["g"])("input",{key:0,type:"range",id:"blurVal","onUpdate:modelValue":t[5]||(t[5]=function(e){return n.blurVal=e}),min:"1",max:"10",step:"1",onChange:t[6]||(t[6]=function(e){return a.changeBlur()})},null,544)),[[r["G"],n.blurVal]]):Object(r["f"])("",!0),Y,!0===n.blur?(Object(r["v"])(),Object(r["g"])("label",Z,"Poziom: "+Object(r["D"])(n.blurVal),1)):Object(r["f"])("",!0)])])}var Q={name:"ImagePicker",data:function(){return{blur:!1,blurVal:"1"}},props:{preview:String,loading:Boolean},methods:{drawNextImg:function(){this.eventBus.emit("draw-next-img")},nextImg:function(){this.eventBus.emit("next-img")},prevImg:function(){this.eventBus.emit("prev-img")},toggleGrayscale:function(){this.eventBus.emit("toggle-grayscale")},toggleBlur:function(){this.blur=!this.blur,this.eventBus.emit("toggle-blur")},changeBlur:function(){this.eventBus.emit("blur",this.blurVal)}}};const X=x()(Q,[["render",$]]);var ee=X,te=(i("b0c0"),{class:"text-2xl font-bold text-center mb-8"}),ie=["for"],re=Object(r["h"])("br",null,null,-1),le={class:"flex"},ne=["onClick"],ae={key:0},se=Object(r["h"])("h2",{class:"text-xl mb-2 mt-6"},"Dodatkowe opcje",-1),ce=Object(r["h"])("br",null,null,-1),oe=Object(r["h"])("br",null,null,-1),ue=Object(r["h"])("br",null,null,-1),be={ref:"send",hidden:""};function de(e,t,i,l,n,a){var s=this,c=Object(r["B"])("Field"),o=Object(r["B"])("PencilIcon"),u=Object(r["B"])("CheckIcon"),b=Object(r["B"])("ErrorMessage"),d=Object(r["B"])("Form");return Object(r["v"])(),Object(r["g"])("div",null,[Object(r["h"])("h1",te,Object(r["D"])(n.heading),1),Object(r["i"])(d,{onSubmit:a.submitForm,onInvalidSubmit:a.onInvalidSubmit,class:"flex flex-col items-center"},{default:Object(r["K"])((function(){return[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(i.schema.fields,(function(e,t){return Object(r["v"])(),Object(r["g"])("div",{key:e.name,class:"mb-2 max-w-full"},[Object(r["h"])("label",{for:e.name},Object(r["D"])(e.label),9,ie),re,Object(r["h"])("div",le,[Object(r["i"])(c,{as:e.as,id:e.name,name:e.name,label:e.label,type:e.type,placeholder:e.placeholder,rules:e.rules,class:Object(r["q"])(["border rounded py-1 px-2",!1===e.active?["bg-gray-200","pointer-events-none","input-editable"]:"w-full"])},null,8,["as","id","name","label","type","placeholder","rules","class"]),s.enableEdit?(Object(r["v"])(),Object(r["g"])("button",{key:0,class:"bg-blue-500 p-2 rounded hover:bg-blue-600 ml-2",onClick:Object(r["M"])((function(e){return s.eventBus.emit("fieldIndex",t)}),["prevent"])},[!1===e.active?(Object(r["v"])(),Object(r["e"])(o,{key:0,class:"h-5 w-5 text-white"})):Object(r["f"])("",!0),!0===e.active?(Object(r["v"])(),Object(r["e"])(u,{key:1,class:"h-5 w-5 text-white"})):Object(r["f"])("",!0)],8,ne)):Object(r["f"])("",!0)]),Object(r["i"])(b,{name:e.name,class:"text-red-500"},null,8,["name"])])})),128)),s.enableEdit?(Object(r["v"])(),Object(r["g"])("div",ae,[se,Object(r["h"])("span",null,"Zadruk: "+Object(r["D"])(s.order.side),1),ce,Object(r["h"])("span",null,"Skala szarości: "+Object(r["D"])(n.grayscale),1),oe,Object(r["h"])("span",null,"Rozmycie: "+Object(r["D"])(n.blurVal),1),ue])):Object(r["f"])("",!0),Object(r["h"])("button",be,null,512)]})),_:1},8,["onSubmit","onInvalidSubmit"])])}i("4de4");var he=i("7bb1"),ge=i("3aa8"),fe=i("cbdf"),pe=i("ec35"),me=i("fd7f");Object(he["d"])({generateMessage:Object(fe["a"])({pl:pe})}),Object(fe["b"])("pl"),Object(he["e"])("alpha_num",ge["a"]),Object(he["e"])("alpha_spaces",ge["b"]),Object(he["e"])("digits",ge["c"]),Object(he["e"])("email",ge["d"]),Object(he["e"])("integer",ge["e"]),Object(he["e"])("regex",ge["f"]),Object(he["e"])("required",ge["g"]);var ve={name:"ImagePicker",data:function(){return{heading:"Dane zamawiającego",send:"",enableEdit:!1,grayscale:"",blurVal:0}},props:{schema:{type:Object,required:!0},order:{type:Object}},components:{Field:he["b"],Form:he["c"],ErrorMessage:he["a"],PencilIcon:me["b"],CheckIcon:me["a"]},methods:{submitForm:function(e){var t=e;this.eventBus.emit("validForm"),this.eventBus.emit("formData",t)},validateForm:function(){this.send.click()},onInvalidSubmit:function(e){var t=e.results,i=[];for(var r in t)i.push(t[r].valid);var l=[];l=i.filter((function(e){return!1===e})),console.log("invalid: "+l.length),l.length>0&&(this.eventBus.emit("invalidForm"),console.log("emitted"))},enableEditFields:function(e){e=!e,this.enableEdit=e,this.heading=e?"Podsumowanie zamówienia":"Dane zamawiającego",this.order.effect1.length>0?this.grayscale="tak":this.grayscale="nie",this.order.effect2.length>0?this.blurVal=this.order.effect2:this.blurVal="nie"}},mounted:function(){this.send=this.$refs.send,this.eventBus.on("submit",this.validateForm),this.eventBus.on("isFormActive",this.enableEditFields)}};const je=x()(ve,[["render",de]]);var Oe=je,ye=Object(r["h"])("h1",{class:"text-2xl font-bold text-center mb-8"},"Dziękujemy za złożenie zamówienia!",-1),we=Object(r["h"])("p",{class:"w-full text-center mx-auto"},"Wkrótce prześlemy potwierdzenie realizacji zamówienia na wskazany adres e-mail.",-1),xe=[ye,we];function ke(e,t,i,l,n,a){return Object(r["v"])(),Object(r["g"])("div",null,xe)}var Be={name:"ThankYou"};const ze=x()(Be,[["render",ke]]);var Pe=ze,Ie={class:"flex flex-wrap justify-center"},Se=Object(r["h"])("h1",{class:"text-2xl font-bold text-center mb-8 w-full"},"Wybierz sposób dostawy",-1),Fe=Object(r["h"])("label",{for:"personal",class:"ml-2"},"Odbiór osobisty",-1),Ve=Object(r["h"])("br",null,null,-1),Ce=Object(r["h"])("label",{for:"courier",class:"ml-2"},"Kurier",-1);function Me(e,t,i,l,n,a){return Object(r["v"])(),Object(r["g"])("div",Ie,[Se,Object(r["h"])("div",null,[Object(r["h"])("input",{type:"radio",id:"personal",name:"delivery",value:"personal",onChange:t[0]||(t[0]=function(){return a.deliveryMethod&&a.deliveryMethod.apply(a,arguments)})},null,32),Fe,Ve,Object(r["h"])("input",{type:"radio",id:"courier",name:"delivery",value:"courier",onChange:t[1]||(t[1]=function(){return a.deliveryMethod&&a.deliveryMethod.apply(a,arguments)})},null,32),Ce])])}var De={name:"Delivery",methods:{deliveryMethod:function(e){this.eventBus.emit("delivery",e.target.value),console.log(e.target.value)}}};const qe=x()(De,[["render",Me]]);var _e=qe,Ae={name:"Order",data:function(){var e={fields:[{label:"Imię",name:"name",placeholder:"Imię",as:"input",type:"text",rules:"required|alpha_spaces",active:"false"},{label:"Nazwisko",name:"surname",placeholder:"Nazwisko",as:"input",type:"text",rules:"required|alpha_spaces",active:"true"},{label:"Ulica",name:"street",placeholder:"Ulica",as:"input",type:"text",rules:"required|alpha_spaces",active:"true"},{label:"Nr budynku",name:"streetNo",placeholder:"Nr budynku",as:"input",type:"text",rules:"required|alpha_num",active:"true"},{label:"Nr mieszkania",name:"flatNo",placeholder:"Nr mieszkania",as:"input",type:"text",rules:"required|integer",active:"true"},{label:"Kod pocztowy",name:"postalCode",placeholder:"Kod pocztowy w formacie 00-000",as:"input",type:"text",rules:"required|regex:[0-9]{2}-[0-9]{3}",active:"true"},{label:"Miasto",name:"city",placeholder:"Miasto",as:"input",type:"text",rules:"required|alpha_spaces",active:"true"},{label:"Telefon",name:"phone",placeholder:"Telefon",as:"input",type:"text",rules:"required|digits:9",active:"true"},{label:"Adres e-mail",name:"email",placeholder:"Adres e-mail",as:"input",type:"email",rules:"required|email",active:"true"}]};return{view:"side-picker",step:0,src:"",src1:"",src2:"",side:"Przód",isFormValid:!1,loading:!1,filters:"",grayscale:"",blur:"",blurVal:1,price:10,sidesPrice:10,grayscalePrice:0,blurPrice:0,delivery:"",deliveryPrice:0,formSchema:e,order:{}}},components:{preview:B,"side-picker":q,"image-picker":ee,"address-form":Oe,delivery:_e,"thank-you":Pe},methods:{changeView:function(){0===this.step?this.view="side-picker":1===this.step?this.view="image-picker":2===this.step?(this.toggleFormActive(!0),this.view="address-form"):3===this.step?(this.toggleFormActive(!1),this.view="address-form"):4===this.step?this.view="delivery":5===this.step&&(this.view="thank-you",console.log(this.order))},changeStep:function(e){var t=this;2===this.step&&e>0||3===this.step&&e>0?(this.eventBus.emit("submit"),setTimeout((function(){!1===t.isFormValid?console.log("disabled"):(t.step+=e,console.log(t.step),t.changeView())}),100)):(this.step+=e,this.changeView(),console.log(this.step))},changeSide:function(e){this.sidesPrice="obustronnie"===e?20:10,this.side=e},drawImage:function(){var e=this,t=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,4),i="https://picsum.photos/seed/"+t+"/400";return this.preload(i).then((function(){e.loading=!1})),i},prevImg:function(){this.src=this.src1},drawNextImg:function(){this.src2=this.drawImage(),this.src1=this.src,this.src=this.src2},nextImg:function(){this.src=this.src2},formInvalid:function(){this.isFormValid=!1},formValid:function(){this.isFormValid=!0},preload:function(e){var t=document.createElement("img");this.loading=!0;var i=new Promise((function(i,r){t.onload=function(){return i(e)},t.onerror=function(){return r((function(){console.log("reject")}))}}));return t.src=e,console.log("src: "+t.src),i},addFilters:function(){var e,t,i=this;e=""===this.grayscale?"":"?",t=""===e?"?":"&";var r=e+this.grayscale+t+this.blur+this.blurVal;this.preload(this.src+r).then((function(){i.loading=!1})),this.filters=r},toggleGrayscale:function(){""===this.grayscale?(this.grayscale="grayscale",this.grayscalePrice=2):(this.grayscale="",this.grayscalePrice=0),this.addFilters()},toggleBlur:function(){""===this.blur?(this.blur="blur=",this.blurPrice=3):(this.blur="",this.blurPrice=0,this.changeBlur()),this.addFilters()},changeBlur:function(e){""===this.blur?this.blurVal="":(this.blurVal=e,this.addFilters())},orderData:function(e){e.price=this.price,e.side=this.side,e.effect1=this.grayscale,e.effect2=this.blurVal,e.delivery=this.delivery,this.order=e},toggleFormActive:function(e){this.eventBus.emit("isFormActive",e);for(var t=0;t<this.formSchema.fields.length;t++)this.formSchema.fields[t].active=e},toggleFieldActive:function(e){this.formSchema.fields[e].active=!this.formSchema.fields[e].active,console.log(e),console.log(this.formSchema.fields[e].active)},deliveryData:function(e){this.delivery=e,"courier"===this.delivery?this.deliveryPrice=15:this.deliveryPrice=0,console.log(this.order)}},mounted:function(){this.eventBus.on("side",this.changeSide),this.src=this.drawImage(),this.eventBus.on("prev-img",this.prevImg),this.eventBus.on("draw-next-img",this.drawNextImg),this.eventBus.on("next-img",this.nextImg),this.eventBus.on("toggle-grayscale",this.toggleGrayscale),this.eventBus.on("toggle-blur",this.toggleBlur),this.eventBus.on("blur",this.changeBlur),this.eventBus.on("invalidForm",this.formInvalid),this.eventBus.on("validForm",this.formValid),this.eventBus.on("formData",this.orderData),this.eventBus.on("fieldIndex",this.toggleFieldActive),this.eventBus.on("delivery",this.deliveryData)}};const Ne=x()(Ae,[["render",g]]);var Ee=Ne,Te={name:"App",components:{Order:Ee}};const Ge=x()(Te,[["render",n]]);var Ke=Ge,We=i("1344"),Ue=(i("a766"),i("ba8c"),Object(We["a"])()),He=Object(r["d"])(Ke);He.config.globalProperties.eventBus=Ue,He.mount("#app")},a766:function(e,t,i){},ba8c:function(e,t,i){}});
//# sourceMappingURL=app.5d687471.js.map